(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],m=0,f=[];m<i.length;m++)o=i[m],n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"53e4":function(t,e,r){"use strict";var a=r("89a0"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("chat-room",{ref:"chatRoom",attrs:{myUserInfo:t.myUserInfo,otherUserInfo:t.otherUserInfo,chatList:t.chatList},on:{submit:t.handleMySubmit}}),r("custom-form",{ref:"customForm",on:{submit:t.handleOtherSubmit}})],1)},s=[],o=(r("a481"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"chat-room"}},[r("div",{staticClass:"chat-top"},[r("div",{staticClass:"avatar-wrapper"},[r("img",{attrs:{src:t.otherUserInfo.avatarUrl,alt:""}})]),r("div",{staticClass:"nickname"},[t._v(t._s(t.otherUserInfo.nickname))])]),r("div",{ref:"chatContent",staticClass:"chat-content"},[r("ul",{staticClass:"chat-list"},t._l(t.chatList,function(e,a){return r("li",{key:a,staticClass:"chat-item"},[e.isOther?r("div",{staticClass:"other-content common-content"},[r("div",{staticClass:"avatar-wrapper"},[r("img",{attrs:{src:t.otherUserInfo.avatarUrl,alt:""}})]),r("div",{staticClass:"message-content"},[r("div",{staticClass:"time"},[t._v(t._s(t.formatTime(e.time)))]),r("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])]):r("div",{staticClass:"my-content common-content"},[r("div",{staticClass:"message-content"},[r("div",{staticClass:"time"},[t._v(t._s(t.formatTime(e.time)))]),r("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})]),r("div",{staticClass:"avatar-wrapper"},[r("img",{attrs:{src:t.myUserInfo.avatarUrl,alt:""}})])])])}),0)]),r("div",{staticClass:"chat-form"},[r("div",{staticClass:"input-wrapper"},[r("el-input",{attrs:{maxlength:500,resize:"none",type:"textarea",rows:1,autosize:{minRows:1,maxRows:4},placeholder:"请输入内容"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),r("div",{staticClass:"submit-wrapper"},[r("el-button",{attrs:{disabled:!t.value},on:{click:t.handleSubmit}},[t._v("发送\n            ")])],1)])])}),i=[],c=r("bd8e"),l={name:"chat-room",props:{otherUserInfo:{type:Object,default:{}},myUserInfo:{type:Object,default:{}},chatList:{type:Array,default:[]}},data:function(){return{value:""}},methods:{formatTime:function(t){return Object(c["a"])(t).format("YYYY-MM-DD HH:mm A")},handleSubmit:function(){this.$emit("submit",this.value)},scrollBottom:function(){var t=this;this.$nextTick(function(){var e=t.$refs.chatContent;e.scrollTop=e.scrollHeight})}}},u=l,m=(r("bc9a"),r("2877")),f=Object(m["a"])(u,o,i,!1,null,"49b3952c",null),p=f.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"custom-form"}},[r("div",{staticClass:"title"},[t._v("\n        模拟他人发送信息\n    ")]),r("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:t.form,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"信息",prop:"message",rules:[{required:!0,message:"信息不能为空"}]}},[r("el-input",{attrs:{maxlength:500,resize:"none",type:"textarea",rows:1,autosize:{minRows:1,maxRows:4},placeholder:"请输入信息",autocomplete:"off"},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")]),r("el-button",{on:{click:function(e){return t.resetForm("form")}}},[t._v("重置")])],1)],1)],1)},d=[],v={name:"mockForm",data:function(){return{form:{message:""}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(r){if(!r)return console.log("error submit!!"),!1;e.$emit("submit",e.form.message),e.$refs[t].resetFields()})},resetForm:function(t){this.$refs[t].resetFields()}}},b=v,g=(r("53e4"),Object(m["a"])(b,h,d,!1,null,"5be70e95",null)),w=g.exports,y=/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,_={name:"app",components:{ChatRoom:p,CustomForm:w},data:function(){return{otherUserInfo:{nickname:"小强",avatarUrl:"http://www.yougexing.net/uploads/180720/1-1PH0160022-lp.jpg"},myUserInfo:{nickname:"小王",avatarUrl:"https://is1-ssl.mzstatic.com/image/thumb/Purple118/v4/c1/af/fe/c1affef6-5542-29fb-0f46-14687e0966bd/AppIcon-0-1x_U007emarketing-0-0-85-220-0-7.png/246x0w.jpg"},chatList:[{content:"你好",time:1550020291972,isOther:!0},{content:"你好",time:1550020357437,isOther:!1},{content:'我这里有一个网站，你可以去看看：<a href="https://www.baidu.com/" target="_blank" ref="noopener noreferrer">https://www.baidu.com/</a>',time:1550020785082,isOther:!0},{content:"我的，我这就去看看，多谢",time:1550020985082,isOther:!1}]}},methods:{handleMySubmit:function(t){var e=t;e=e.replace(y,'<a href="$1$2" target="_blank" ref="noopener noreferrer">$1$2</a>').replace(/\n/g,"<br />");var r={content:e,time:+new Date,isOther:!1};this.chatList.push(r),this.$refs.chatRoom.value="",this.$refs.chatRoom.scrollBottom()},handleOtherSubmit:function(t){var e=t;e=e.replace(y,'<a href="$1$2" target="_blank" ref="noopener noreferrer">$1$2</a>').replace(/\n/g,"<br />");var r={content:e,time:+new Date,isOther:!0};this.chatList.push(r),this.$refs.customForm.form.message="",this.$refs.chatRoom.scrollBottom()}}},C=_,O=(r("7c55"),Object(m["a"])(C,n,s,!1,null,null,null)),$=O.exports,x=(r("eca7"),r("450d"),r("3787")),k=r.n(x),U=(r("425f"),r("4105")),j=r.n(U),I=(r("10cb"),r("f3ad")),F=r.n(I),S=(r("1951"),r("eedf")),M=r.n(S);a["default"].use(M.a),a["default"].use(F.a),a["default"].use(j.a),a["default"].use(k.a),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t($)}}).$mount("#app")},"5c48":function(t,e,r){},"7c55":function(t,e,r){"use strict";var a=r("5c48"),n=r.n(a);n.a},"89a0":function(t,e,r){},bc9a:function(t,e,r){"use strict";var a=r("e854"),n=r.n(a);n.a},e854:function(t,e,r){}});